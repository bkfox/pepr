{% extends "pepr/content/service.html" %}
{% load i18n pepr_ui %}

{% block app %}
<div class="box mb-3">
    {% component create_form role service=service %}
</div>

<hr>

<pepr-container sortAttr="-modified"
    collection-url="/container/{{ context.pk }}/"
    items-url="/content/">

    <form action="">
        {# filter.form #}
    </form>

    {% for obj in object_list %}
    <div data-id="{{ obj.pk }}">
        {{ obj.as_data|json_script:obj.pk }}
        {% component obj.as_component %}
    </div>
    {% endfor %}

    <template slot="append" slot-scope="{parent, collection}">
        <div class="text-center">
            <button @click.prevent="parent.load">{% trans "more..." %}</button>
        </div>
    </template>
</pepr-container>

{% endblock %}

